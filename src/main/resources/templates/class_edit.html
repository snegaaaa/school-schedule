<!doctype html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞</title>
  <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>
<div class="container">

  <div class="topbar">
    <div class="brand">
      <a class="brand-title" th:href="@{/}">–®–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
      <p class="brand-sub">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
    </div>

    <div class="nav">
      <a th:href="@{/schedule}">üìÖ –ü–æ –¥–Ω—è–º</a>
      <a th:href="@{/schedule/week}">üóìÔ∏è –ù–µ–¥–µ–ª—è</a>
      <a th:href="@{/stats}">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
      <a th:href="@{/about}">‚ÑπÔ∏è –û–± –∞–≤—Ç–æ—Ä–µ</a>

      <span sec:authorize="hasRole('ADMIN')" class="inline">
        <a class="active" th:href="@{/classes}">üè´ –ö–ª–∞—Å—Å—ã</a>
        <a th:href="@{/setup}">üß© –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</a>
      </span>
    </div>

    <div class="userbox">
      <div class="badge">üë§ <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</span> <b sec:authentication="name">user</b></div>
      <form th:action="@{/logout}" method="post" style="margin:0;">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <button class="btn" type="submit">–í—ã–π—Ç–∏</button>
      </form>
    </div>
  </div>

  <div class="pagehead">
    <h1>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞</h1>
    <p>–¢–µ–∫—É—â–∏–π –∫–ª–∞—Å—Å: <b th:text="${schoolClass.name}"></b></p>
  </div>

  <div class="card">
    <div th:if="${error != null}" style="margin-bottom:12px;">
      <div th:if="${error == 'empty'}" class="alert alert-danger">–ò–º—è –∫–ª–∞—Å—Å–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.</div>
      <div th:if="${error == 'format'}" class="alert alert-danger">
        –§–æ—Ä–º–∞—Ç: <b>1‚Äì11</b> + <b>—Ä—É—Å—Å–∫–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞</b>. –ü—Ä–∏–º–µ—Ä—ã: 7–ê, 11–ë.
      </div>
      <div th:if="${error == 'duplicate'}" class="alert alert-danger">–¢–∞–∫–æ–π –∫–ª–∞—Å—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</div>
    </div>

    <form class="form" method="post" action="/classes/edit">
      <!-- ‚úÖ CSRF —Ç–æ–∫–µ–Ω -->
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

      <input type="hidden" name="id" th:value="${schoolClass.id}">
      <div class="field" style="min-width:260px;">
        <div class="label">–ù–æ–≤–æ–µ –∏–º—è</div>
        <input class="input" name="name" th:value="${schoolClass.name}">
      </div>
      <button class="btn" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <a class="btn btn-link" th:href="@{/classes}">–ù–∞–∑–∞–¥</a>
    </form>
  </div>

</div>
</body>
</html>
